---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "portkey_integration_model_access Resource - portkey"
subcategory: ""
description: |-
  Manages model access for a Portkey integration. Enables or disables specific models for an integration, optionally with custom pricing.
---

# portkey_integration_model_access (Resource)

Manages model access for a Portkey integration. Enables or disables specific models for an integration, optionally with custom pricing.

## Example Usage

### Basic Usage - Enable a Model

```terraform
resource "portkey_integration" "openai" {
  name           = "OpenAI"
  ai_provider_id = "openai"
  key            = var.openai_api_key
}

# Enable GPT-4 for this integration
resource "portkey_integration_model_access" "gpt4" {
  integration_id = portkey_integration.openai.slug
  model_slug     = "gpt-4"
  enabled        = true
}
```

### With Custom Pricing

```terraform
resource "portkey_integration_model_access" "gpt4_custom_pricing" {
  integration_id = portkey_integration.openai.slug
  model_slug     = "gpt-4"
  enabled        = true

  pricing_config = {
    type = "static"
    pay_as_you_go = {
      request_token_price  = 0.03
      response_token_price = 0.06
    }
  }
}
```

### Custom/Fine-tuned Model

```terraform
resource "portkey_integration_model_access" "custom_model" {
  integration_id  = portkey_integration.openai.slug
  model_slug      = "ft:gpt-3.5-turbo:my-org:custom-model"
  enabled         = true
  is_custom       = true
  is_finetune     = true
  base_model_slug = "gpt-3.5-turbo"
}
```

### Multiple Models with for_each

```terraform
locals {
  models = ["gpt-4", "gpt-4-turbo", "gpt-3.5-turbo"]
}

resource "portkey_integration_model_access" "models" {
  for_each = toset(local.models)

  integration_id = portkey_integration.openai.slug
  model_slug     = each.value
  enabled        = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `integration_id` (String) The integration slug or ID to configure model access for.
- `model_slug` (String) The model identifier (slug).

### Optional

- `base_model_slug` (String) The base model slug for fine-tuned models.
- `enabled` (Boolean) Whether the model is enabled for this integration. Defaults to true.
- `is_custom` (Boolean) Whether this is a custom model (not a built-in provider model). Custom models can be deleted; built-in models can only be disabled.
- `is_finetune` (Boolean) Whether this is a fine-tuned model.
- `pricing_config` (Block) Custom pricing configuration for this model. (see [below for nested schema](#nestedblock--pricing_config))

### Read-Only

- `id` (String) Resource identifier in format integration_id/model_slug.

<a id="nestedblock--pricing_config"></a>
### Nested Schema for `pricing_config`

Required:

- `type` (String) Pricing type: 'static' for fixed pricing.

Optional:

- `pay_as_you_go` (Block) Pay-as-you-go pricing configuration. (see [below for nested schema](#nestedblock--pricing_config--pay_as_you_go))

<a id="nestedblock--pricing_config--pay_as_you_go"></a>
### Nested Schema for `pricing_config.pay_as_you_go`

Optional:

- `request_token_price` (Number) Price per request token (input).
- `response_token_price` (Number) Price per response token (output).

## Import

Import is supported using the following syntax:

```shell
# Import using integration_id/model_slug format
terraform import portkey_integration_model_access.example integration-slug/gpt-4
```

## Delete Behavior

- **Built-in models**: When deleted from Terraform, the model is disabled (`enabled=false`) but not removed from the integration.
- **Custom models** (`is_custom=true`): When deleted from Terraform, the model is fully removed from the integration.
