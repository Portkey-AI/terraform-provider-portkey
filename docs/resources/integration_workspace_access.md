---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "portkey_integration_workspace_access Resource - portkey"
subcategory: ""
description: |-
  Manages workspace access for a Portkey integration. Enables an integration to be used within a specific workspace, optionally with usage and rate limits.
---

# portkey_integration_workspace_access (Resource)

Manages workspace access for a Portkey integration. Enables an integration to be used within a specific workspace, optionally with usage and rate limits.

## Example Usage

### Basic Usage

```terraform
resource "portkey_workspace" "dev" {
  name = "Development"
}

resource "portkey_integration" "openai" {
  name           = "OpenAI"
  ai_provider_id = "openai"
  key            = var.openai_api_key
}

# Enable integration for workspace
resource "portkey_integration_workspace_access" "openai_dev" {
  integration_id = portkey_integration.openai.slug
  workspace_id   = portkey_workspace.dev.id
}

# Now create virtual key - no manual UI work needed!
resource "portkey_provider" "openai_vkey" {
  name           = "OpenAI VKey"
  workspace_id   = portkey_workspace.dev.id
  integration_id = portkey_integration.openai.slug

  depends_on = [portkey_integration_workspace_access.openai_dev]
}
```

### With Usage and Rate Limits

```terraform
resource "portkey_integration_workspace_access" "openai_dev" {
  integration_id = portkey_integration.openai.slug
  workspace_id   = portkey_workspace.dev.id
  enabled        = true

  usage_limits {
    type            = "cost"
    credit_limit    = 100
    alert_threshold = 80
    periodic_reset  = "monthly"
  }

  rate_limits {
    type  = "requests"
    unit  = "rpm"
    value = 1000
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `integration_id` (String) The integration slug or ID to grant workspace access to.
- `workspace_id` (String) The workspace ID to grant access to.

### Optional

- `enabled` (Boolean) Whether the integration is enabled for this workspace. Defaults to true.
- `rate_limits` (Block List) Rate limits for this workspace. (see [below for nested schema](#nestedblock--rate_limits))
- `usage_limits` (Block List) Usage limits for this workspace. (see [below for nested schema](#nestedblock--usage_limits))

### Read-Only

- `id` (String) Resource identifier in format integration_id/workspace_id.

<a id="nestedblock--rate_limits"></a>
### Nested Schema for `rate_limits`

Required:

- `type` (String) Type of rate limit: 'requests' or 'tokens'.
- `unit` (String) Rate limit unit: 'rpm' (per minute), 'rph' (per hour), or 'rpd' (per day).
- `value` (Number) The rate limit value.

<a id="nestedblock--usage_limits"></a>
### Nested Schema for `usage_limits`

Required:

- `type` (String) Type of usage limit: 'cost' or 'tokens'.

Optional:

- `alert_threshold` (Number) Alert threshold percentage (0-100).
- `credit_limit` (Number) The credit limit value.
- `periodic_reset` (String) When to reset the usage: 'monthly' or 'weekly'.

## Import

Import is supported using the following syntax:

```shell
# Import using integration_id/workspace_id format
terraform import portkey_integration_workspace_access.example integration-slug/workspace-id
```
